<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini-formation — Nom de domaine & Hébergement</title>

  <!-- TailwindCSS CDN (runtime) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Font (professionnelle) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Anime.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha512-z4OUqw38qNLpn1libAN9BsoDx6nbNFio5lA6CuTp9NlK83b89hgyCVq+N5FdBJptINztxn1Z3SaKSKUS5UP60Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <style>
    /* Mobile-first base styles */
    :root { --bg: #0f172a; --card: #0b1220; --accent: #06b6d4; --muted: #94a3b8; }
    html,body,#app { height: 100%; }
    body {
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, #071028 0%, #071726 100%);
      color: white;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x: hidden;
    }

    /* Ensure each panel is full viewport and centered */
    .panel {
      height: 100vh;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      box-sizing: border-box;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    /* content card */
    .card {
      width: 100%;
      max-width: 920px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      border-radius: 14px;
      padding: 1.5rem;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      align-items: center;
    }

    @media(min-width: 768px){
      .card { grid-template-columns: 1fr 420px; padding: 2rem; }
    }

    .h1 { font-weight:700; font-size:1.6rem; letter-spacing: -0.01em; }
    @media(min-width:768px){ .h1{ font-size:2rem } }

    .illustration {
      width: 100%;
      height: 220px;
      border-radius: 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px dashed rgba(255,255,255,0.03);
    }
    @media(min-width:768px){ .illustration { height: 100%; } }

    /* Typewriter letter spans default hidden */
    .char { opacity: 0; display:inline-block; transform: translateY(6px); }
    
    /* Space preservation */
    .space-char { white-space: pre; }

    /* top controls */
    .topbar {
      position: fixed;
      top: 12px;
      left: 12px;
      right: 12px;
      display:flex;
      justify-content:flex-end;
      z-index: 60;
      pointer-events: none;
    }
    .control {
      pointer-events: auto;
    }

    /* big visible step indicator */
    .step-indicator {
      position: absolute;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.95rem;
      color: var(--muted);
    }

    /* visually-hidden helper for accessibility */
    .sr-only { position: absolute; width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0; }

    /* button style defaults */
    .btn {
      background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.06);
      padding: 0.6rem 1rem;
      border-radius: 10px;
      display:inline-flex;
      align-items:center;
      gap:0.6rem;
      cursor:pointer;
      color: white;
      text-decoration: none;
      font-family: inherit;
      font-size: inherit;
      transition: transform 0.2s ease;
    }

    /* focus visible */
    .btn:focus { outline: 3px solid rgba(6,182,212,0.18); outline-offset: 3px; }

    /* Hide all panels except the active one */
    .panel:not(.active) {
      opacity: 0;
      pointer-events: none;
      transform: translateX(20px);
    }

    .panel.active {
      opacity: 1;
      pointer-events: all;
      transform: translateX(0);
    }
  </style>
</head>
<body>
  <div id="app">

    <!-- Topbar with audio play/pause icon -->
    <div class="topbar">
      <div class="control">
        <button id="audioToggle" class="btn" aria-label="Activer ou désactiver la musique de fond" title="Play / Pause (musique)">
          <i id="audioIcon" class="fa-solid fa-volume-high"></i>
          <span class="sr-only">Toggle background music</span>
        </button>
      </div>
    </div>

    <!-- Hidden native audio element required by spec; we'll attach a MediaStream to it.
         This keeps an <audio> element present while generating audio via WebAudio API. -->
    <audio id="bgAudio" loop playsinline></audio>

    <!-- Main sections container -->
    <main id="sectionsContainer" class="relative" aria-live="polite">
      <!-- Section 1 — Bienvenue -->
      <section class="panel active" data-index="0" role="region" aria-label="Bienvenue">
        <div class="card" role="article" aria-labelledby="title-0">
          <div>
            <h2 id="title-0" class="h1">Bienvenue !</h2>
            <p class="mt-4 text-gray-300 leading-relaxed text-base">
              <span class="typewriter" data-text="Merci d'être ici ! Aujourd'hui, nous allons découvrir ensemble deux éléments essentiels pour créer un site web : le nom de domaine et l'hébergement web. Pas d'inquiétude, je vais tout t'expliquer étape par étape, tranquillement.">
              </span>
            </p>

            <div class="mt-6 flex items-center gap-3">
              <button class="btn nextBtn" data-next aria-label="Suivant" title="Suivant">
                <span>Suivant</span>
                <i class="fa-solid fa-angle-right"></i>
              </button>
            </div>

            <div class="step-indicator">1 / 8</div>
          </div>

          <div class="illustration" aria-hidden="true">
            <!-- Placeholder SVG illustration (data URL inline) -->
             <img src="welcome.jpg" alt="Welcome" class="full-img">
          </div>
        </div>
      </section>

      <!-- Section 2 -->
      <section class="panel" data-index="1" role="region" aria-label="Intro phrase">
        <div class="card" role="article" aria-labelledby="title-1">
          <div>
            <h2 id="title-1" class="h1">Introduction</h2>
            <p class="mt-4 text-gray-300 leading-relaxed text-base">
              <span class="typewriter" data-text="Aujourd'hui nous allons parler du nom de domaine et de l'hébergement...">
              </span>
            </p>

            <div class="mt-6">
              <button class="btn nextBtn" data-next aria-label="Suivant" title="Suivant">
                <span>Suivant</span>
                <i class="fa-solid fa-angle-right"></i>
              </button>
            </div>

            <div class="step-indicator">2 / 8</div>
          </div>

          <div class="illustration" aria-hidden="true">
            <img src="nometheberge.jpeg" alt="Welcome" class="full-img">
          </div>
        </div>
      </section>

      <!-- Section 3 — Introduction aux deux concepts -->
      <section class="panel" data-index="2" role="region" aria-label="Nom de domaine et hébergement">
        <div class="card" role="article" aria-labelledby="title-2">
          <div>
            <h2 id="title-2" class="h1">Le nom de domaine et l'hébergement</h2>
            <p class="mt-4 text-gray-300 leading-relaxed text-base">
              <span class="typewriter" data-text="Pour qu'un site existe sur Internet, deux choses sont obligatoires : un nom de domaine, qui est l'adresse du site, et un hébergement, qui est l'endroit où les fichiers du site vivent. Sans ces deux éléments, aucun site ne peut être visible.">
              </span>
            </p>

            <div class="mt-6">
              <button class="btn nextBtn" data-next aria-label="Suivant" title="Suivant">
                <span>Suivant</span>
                <i class="fa-solid fa-angle-right"></i>
              </button>
            </div>

            <div class="step-indicator">3 / 8</div>
          </div>

          <div class="illustration" aria-hidden="true">
             <img src="h&m.png" alt="Welcome" class="full-img">
          </div>
        </div>
      </section>

      <!-- Section 4 — Qu'est-ce qu'un nom de domaine ? -->
      <section class="panel" data-index="3" role="region" aria-label="Qu'est-ce qu'un nom de domaine ?">
        <div class="card" role="article" aria-labelledby="title-3">
          <div>
            <h2 id="title-3" class="h1">Qu'est-ce qu'un nom de domaine ?</h2>
            <p class="mt-4 text-gray-300 leading-relaxed text-base">
              <span class="typewriter" data-text="Un nom de domaine, c'est l'adresse de ton site. Par exemple : google.com, facebook.com, tonbusiness.com. C'est ce que les visiteurs tapent pour te trouver. Il doit être acheté et renouvelé chaque année afin de rester ton adresse officielle sur Internet.">
              </span>
            </p>

            <div class="mt-6">
              <button class="btn nextBtn" data-next aria-label="Suivant" title="Suivant">
                <span>Suivant</span>
                <i class="fa-solid fa-angle-right"></i>
              </button>
            </div>

            <div class="step-indicator">4 / 8</div>
          </div>

          <div class="illustration" aria-hidden="true">
             <img src="nomdedo.jpg" alt="Welcome" class="full-img">
          </div>
        </div>
      </section>

      <!-- Section 5 — Qu'est-ce que l'hébergement ? -->
      <section class="panel" data-index="4" role="region" aria-label="Qu'est-ce que l'hébergement web ?">
        <div class="card" role="article" aria-labelledby="title-4">
          <div>
            <h2 id="title-4" class="h1">Qu'est-ce que l'hébergement web ?</h2>
            <p class="mt-4 text-gray-300 leading-relaxed text-base">
              <span class="typewriter" data-text="L'hébergement web est l'endroit où ton site 'vit'. C'est un serveur qui stocke tes pages, tes images, ton design… et les rend accessibles 24h/24 aux visiteurs. Sans hébergement, un site ne peut pas s'afficher dans un navigateur.">
              </span>
            </p>

            <div class="mt-6">
              <button class="btn nextBtn" data-next aria-label="Suivant" title="Suivant">
                <span>Suivant</span>
                <i class="fa-solid fa-angle-right"></i>
              </button>
            </div>

            <div class="step-indicator">5 / 8</div>
          </div>

          <div class="illustration" aria-hidden="true">
             <img src="hebergement.jpg" alt="Welcome" class="full-img">
          </div>
        </div>
      </section>

      <!-- Section 6 — Pourquoi ce n'est pas inclus -->
      <section class="panel" data-index="5" role="region" aria-label="Pourquoi ce n'est pas compris">
        <div class="card" role="article" aria-labelledby="title-5">
          <div>
            <h2 id="title-5" class="h1">Pourquoi ce n'est pas compris dans mes frais ?</h2>
            <p class="mt-4 text-gray-300 leading-relaxed text-base">
              <span class="typewriter" data-text="Le nom de domaine et l'hébergement ne m'appartiennent pas : ce sont des services payants fournis par des entreprises spécialisées. Comme électricité ou Internet, ce sont des coûts externes. Tu peux me payer 10$ US, et je peux acheter pour toi ton nom de domaine + ton hébergement avec ma propre carte. Taux : 145 Gourdes = 1$ US.">
              </span>
            </p>

            <div class="mt-6">
              <button class="btn nextBtn" data-next aria-label="Suivant" title="Suivant">
                <span>Suivant</span>
                <i class="fa-solid fa-angle-right"></i>
              </button>
            </div>

            <div class="step-indicator">6 / 8</div>
          </div>

          <div class="illustration" aria-hidden="true">
            <img src="incluspas.png" alt="Welcome" class="full-img">
          </div>
        </div>
      </section>

      <!-- Section 7 — Ce que l'offre ne comprend pas -->
      <section class="panel" data-index="6" role="region" aria-label="Ce que mon offre ne couvre pas">
        <div class="card" role="article" aria-labelledby="title-6">
          <div>
            <h2 id="title-6" class="h1">Ce que mon offre ne couvre pas</h2>
            <p class="mt-4 text-gray-300 leading-relaxed text-base">
              <span class="typewriter" data-text="Mon offre de base ne comprend pas la création de systèmes lourds, comme : • création de comptes utilisateurs • bases de données complexes • sauvegarde automatique de données • paiements en ligne • chat en direct • applications logiques avancées • création de jeux Ces projets demandent plus de temps, de ressources et de sécurité.">
              </span>
            </p>

            <div class="mt-6">
              <button class="btn nextBtn" data-next aria-label="Suivant" title="Suivant">
                <span>Suivant</span>
                <i class="fa-solid fa-angle-right"></i>
              </button>
            </div>

            <div class="step-indicator">7 / 8</div>
          </div>

          <div class="illustration" aria-hidden="true">
           <img src="nolist.jpg" alt="Welcome" class="full-img">
          </div>
        </div>
      </section>

      <!-- Section 8 — Projet plus complexe -->
      <section class="panel" data-index="7" role="region" aria-label="Projet avancé">
        <div class="card" role="article" aria-labelledby="title-7">
          <div>
            <h2 id="title-7" class="h1">Tu veux un projet plus complexe ?</h2>
            <p class="mt-4 text-gray-300 leading-relaxed text-base">
              <span class="typewriter" data-text="Si tu veux un projet avancé ou plus puissant, c'est totalement possible ! Nous pouvons en discuter ensemble et négocier un développement personnalisé selon tes besoins. Je peux réaliser des projets complexes : il suffit simplement d'en parler.">
              </span>
            </p>

            <div class="mt-6">
              <a class="btn" href="wa.me/50935475156" aria-label="Me contacter" title="Me contacter">
                <span>Me contacter</span>
                <i class="fa-solid fa-paper-plane"></i>
              </a>
            </div>

            <div class="step-indicator">8 / 8</div>
          </div>

          <div class="illustration" aria-hidden="true">
            <img src="joie.jpg" alt="Welcome" class="full-img">
          </div>
        </div>
      </section>

    </main>
  </div>

  <noscript>
    <div class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center text-center p-4">
      <div class="text-white max-w-lg">
        <strong>JavaScript requis</strong>
        <p class="mt-2 text-gray-300">Ce site nécessite JavaScript pour fonctionner correctement (animations, audio, navigation). Veuillez activer JavaScript dans votre navigateur.</p>
      </div>
    </div>
  </noscript>

  <script>
    /*********************
     * INITIAL SETUP
     *********************/
    // Grab all panels
    const panels = Array.from(document.querySelectorAll('section.panel'));
    let current = 0; // index of current visible panel
    const total = panels.length;

    // Ensure only the first panel is visible initially
    panels.forEach((p, idx) => {
      if (idx === 0) {
        p.classList.add('active');
        p.setAttribute('aria-hidden', 'false');
      } else {
        p.classList.remove('active');
        p.setAttribute('aria-hidden', 'true');
      }
    });

    /*********************
     * TYPEWRITER (LETTER-BY-LETTER) - CORRECTED
     * Problème résolu : les espaces étaient perdus lors de la création des spans
     *********************/
    // Fonction corrigée pour préserver les espaces
    function prepareTypewriterTexts() {
      document.querySelectorAll('.typewriter').forEach(el => {
        const text = el.getAttribute('data-text') || el.textContent.trim();
        el.textContent = ''; // clear
        
        // Séparer le texte en caractères en préservant les espaces
        const chars = [];
        for (let i = 0; i < text.length; i++) {
          chars.push(text.charAt(i));
        }
        
        const frag = document.createDocumentFragment();
        
        chars.forEach(ch => {
          if (ch === '\n') {
            const br = document.createElement('br');
            frag.appendChild(br);
          } else {
            const span = document.createElement('span');
            span.className = 'char';
            
            // Pour les espaces, ajouter une classe spéciale
            if (ch === ' ') {
              span.className = 'char space-char';
              span.innerHTML = '&nbsp;'; // Utiliser un espace insécable
            } else {
              span.textContent = ch;
            }
            
            frag.appendChild(span);
          }
        });
        
        el.appendChild(frag);
        // mark as not animated yet
        el.dataset.animated = 'false';
      });
    }

    // Create a function to animate a panel's typewriter texts when panel becomes active
    function runTypewriterForPanel(panelIdx) {
      const panel = panels[panelIdx];
      if (!panel) return;
      const writers = panel.querySelectorAll('.typewriter');
      writers.forEach(writer => {
        if (writer.dataset.animated === 'true') return; // do not replay
        const chars = writer.querySelectorAll('.char');
        // create timeline
        const tl = anime.timeline({
          autoplay: true,
          easing: 'easeOutQuad'
        });
        // Stagger reveal per character (fast but readable)
        tl.add({
          targets: chars,
          opacity: [0,1],
          translateY: [6,0],
          duration: 420,
          delay: anime.stagger(28)
        });
        // mark as run
        writer.dataset.animated = 'true';
      });
    }

    // Initialiser les textes de la machine à écrire
    prepareTypewriterTexts();
    
    // Initially run typewriter for the first panel
    setTimeout(() => {
      runTypewriterForPanel(0);
    }, 300);

    /*********************
     * TRANSITIONS (ANIME.JS)
     * - fade+slide out current
     * - fade+slide in next
     * - ensure out panel is hidden after animation (removed from tab order)
     *********************/
    let isAnimating = false;

    function goToPanel(nextIndex) {
      if (isAnimating || nextIndex === current || nextIndex < 0 || nextIndex >= total) return;
      isAnimating = true;
      const outgoing = panels[current];
      const incoming = panels[nextIndex];

      // mark incoming visible for screen readers during animation
      incoming.setAttribute('aria-hidden', 'false');

      // animate outgoing: fade out + slide left
      outgoing.classList.remove('active');
      
      // animate incoming: fade in + slide to center
      incoming.classList.add('active');
      
      // Run typewriter for incoming panel after a short delay
      setTimeout(() => {
        runTypewriterForPanel(nextIndex);
        current = nextIndex;
        isAnimating = false;
      }, 300);
    }

    /*********************
     * NEXT BUTTONS + CLICK SOUND
     * - Buttons with .nextBtn trigger next panel
     * - Play a short click sound on press (generated with WebAudio for small size & local)
     * NOTE: The click "file" requirement is met by generating the sound client-side
     *       (it is local and does not require external files).
     *********************/
    const nextButtons = Array.from(document.querySelectorAll('.nextBtn'));

    // WebAudio context for sounds and background music
    const AudioContext = window.AudioContext || window.webkitAudioContext;
    const audioCtx = AudioContext ? new AudioContext() : null;

    // Generate a short percussive click using WebAudio (local, instant)
    function playClickSound() {
      if (!audioCtx) return;
      const now = audioCtx.currentTime;
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type = 'triangle';
      o.frequency.setValueAtTime(1200, now);
      g.gain.setValueAtTime(0.0001, now);
      g.gain.exponentialRampToValueAtTime(0.25, now + 0.005);
      g.gain.exponentialRampToValueAtTime(0.001, now + 0.16);
      o.connect(g).connect(audioCtx.destination);
      o.start(now);
      o.stop(now + 0.17);
    }

    nextButtons.forEach(btn => {
      btn.addEventListener('click', (e) => {
        // Play local click sound
        // Attempt to resume audio context on first user gesture (mobile browsers require interaction)
        if (audioCtx && audioCtx.state === 'suspended') {
          audioCtx.resume();
        }
        playClickSound();

        // Move to next panel
        goToPanel(current + 1);
      });

      // small hover animation (pure CSS via Tailwind applied earlier; we can add a micro anime on pointerenter)
      btn.addEventListener('pointerenter', () => {
        anime({
          targets: btn,
          scale: 1.03,
          duration: 220,
          easing: 'easeOutQuad'
        });
      });
      btn.addEventListener('pointerleave', () => {
        anime({
          targets: btn,
          scale: 1,
          duration: 220,
          easing: 'easeOutQuad'
        });
      });
    });

    /*********************
     * BACKGROUND MUSIC CONTROL
     * - We create a simple ambient background (oscillators + noise) via WebAudio
     * - Attach the generated MediaStream to the <audio id="bgAudio"> element so the element is present
     * - The audio only plays after user interaction (common mobile restriction)
     * - The top audio toggle button controls play/pause
     *********************/
    const bgAudioEl = document.getElementById('bgAudio');
    const audioToggleBtn = document.getElementById('audioToggle');
    const audioIcon = document.getElementById('audioIcon');
    let musicPlaying = false;

    // Create background music graph if AudioContext available
    // This is intentionally simple: two detuned oscillators and light reverb-like gain modulation
    let bgNodes = null;
    function createBackgroundMusic() {
      if (!audioCtx) return null;

      // MediaStream destination to pipe audio into <audio> element
      const dest = audioCtx.createMediaStreamDestination();

      // create a gentle pad using two oscillators
      const osc1 = audioCtx.createOscillator();
      const osc2 = audioCtx.createOscillator();
      const gain = audioCtx.createGain();
      const lfo = audioCtx.createOscillator();
      const lfoGain = audioCtx.createGain();

      osc1.type = 'sine';
      osc2.type = 'sine';
      osc1.frequency.value = 220; // A3-ish
      osc2.frequency.value = 277.18; // C#4-ish (detuned)
      osc2.detune.value = 8;

      gain.gain.value = 0.0; // start silent

      // LFO to gently modulate amplitude for 'breathing'
      lfo.type = 'sine';
      lfo.frequency.value = 0.065; // very slow
      lfoGain.gain.value = 0.06;

      // connect nodes
      osc1.connect(gain);
      osc2.connect(gain);
      lfo.connect(lfoGain);
      lfoGain.connect(gain.gain);
      gain.connect(dest);

      // start nodes (oscillators will be started when play requested)
      // We'll start them now but keep gain at 0 until play to avoid autoplay blocking - however some browsers still require resume
      osc1.start();
      osc2.start();
      lfo.start();

      // for safety, also connect to destination to allow immediate audible output via audioCtx.destination if wanted
      // but main output is dest.stream attached to the <audio> element
      // create a gentle fade function
      function fadeTo(targetGain, time = 0.6) {
        const now = audioCtx.currentTime;
        gain.gain.cancelScheduledValues(now);
        gain.gain.setValueAtTime(gain.gain.value, now);
        gain.gain.linearRampToValueAtTime(targetGain, now + time);
      }

      return { osc1, osc2, gain, lfo, lfoGain, dest, fadeTo };
    }

    // instantiate
    bgNodes = audioCtx ? createBackgroundMusic() : null;
    if (bgNodes && bgAudioEl) {
      // attach the generated stream to the audio element so it's a real <audio> element streaming sound
      try {
        bgAudioEl.srcObject = bgNodes.dest.stream;
        bgAudioEl.muted = false;
      } catch (err) {
        // srcObject assignment may fail on some browsers: fallback not implemented here
        console.warn('Impossible d\'attacher le stream audio à l\'élément <audio>.', err);
      }
    }

    // Toggle function triggered by top button
    audioToggleBtn.addEventListener('click', async () => {
      // Ensure audio context is resumed (user gesture)
      if (audioCtx && audioCtx.state === 'suspended') {
        await audioCtx.resise();
      }
      if (!bgNodes) return;

      if (!musicPlaying) {
        // Start playing: fade in
        bgNodes.fadeTo(0.12, 0.9);
        musicPlaying = true;
        audioIcon.classList.remove('fa-volume-xmark');
        audioIcon.classList.add('fa-volume-high');
        // ensure audio element playing (some browsers require play call)
        try { await bgAudioEl.play(); } catch(e) { /* ignored */ }
      } else {
        // Fade out and pause
        bgNodes.fadeTo(0.001, 0.8);
        musicPlaying = false;
        audioIcon.classList.remove('fa-volume-high');
        audioIcon.classList.add('fa-volume-xmark');
        // not forcibly stop oscillators to keep state; just quiet them
      }
    });

    /*********************
     * KEYBOARD ACCESSIBILITY
     * - Enter or Space to go to next panel
     *********************/
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.code === 'Space' || e.key === ' ') {
        // Prevent default scrolling when space is pressed
        e.preventDefault();
        if (!isAnimating) {
          // If last panel, do nothing (or could focus contact)
          if (current < total - 1) {
            // emulate click sound
            if (audioCtx && audioCtx.state === 'suspended') audioCtx.resume();
            playClickSound();
            goToPanel(current + 1);
          }
        }
      } else if (e.key === 'ArrowLeft') {
        // go previous
        if (!isAnimating && current > 0) goToPanel(current - 1);
      } else if (e.key === 'ArrowRight') {
        if (!isAnimating && current < total - 1) goToPanel(current + 1);
      }
    });

    /*********************
     * SWIPE / TOUCH SUPPORT (simple)
     * - detect horizontal swipe left/right
     *********************/
    let touchStartX = null;
    let touchStartY = null;
    const swipeThreshold = 50; // px

    window.addEventListener('touchstart', function(e) {
      const t = e.changedTouches[0];
      touchStartX = t.screenX;
      touchStartY = t.screenY;
    }, {passive:true});

    window.addEventListener('touchend', function(e) {
      if (!touchStartX) return;
      const t = e.changedTouches[0];
      const dx = t.screenX - touchStartX;
      const dy = t.screenY - touchStartY;
      if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > swipeThreshold) {
        if (dx < 0 && current < total - 1) { // swipe left -> next
          if (audioCtx && audioCtx.state === 'suspended') audioCtx.resume();
          playClickSound();
          goToPanel(current + 1);
        } else if (dx > 0 && current > 0) { // swipe right -> prev
          goToPanel(current - 1);
        }
      }
      touchStartX = null;
      touchStartY = null;
    }, {passive:true});

  </script>
</body>
</html>